<!-- core/templates/core/home.html -->
<h2>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–æ–µ–∑–¥–æ–∫ (MVP)</h2>
<form method="get">
    {{ form.as_p }}
    <button type="submit">–ù–∞–π—Ç–∏ –º–∞—Ä—à—Ä—É—Ç</button>
</form>

{% if routes %}
<h3>–ù–∞–π–¥–µ–Ω–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤: {{ routes|length }}</h3>
{% for route in routes %}
<div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
    <p><strong>–í –ø—É—Ç–∏:</strong> {{ route.adjusted_time }} –º–∏–Ω (–ø—Ä–æ–±–∫–∏: x{{ route.traffic_coef }})</p>
    <p><strong>–≠—Ç–∞–ø—ã:</strong></p>
    <!-- –°–¢–ê–õ–û (—Ä–∞–±–æ—Ç–∞–µ—Ç): -->
    <ul>
        {% for segment in route.segments %}
        <li>
            {% if segment.type == 'walk' %}
                üö∂ {{ segment.type }}: {{ segment.time }} –º–∏–Ω
                <small>({{ segment.details.text }})</small>
            {% elif segment.type == 'transport' %}
                üöå {{ segment.type }}: {{ segment.time }} –º–∏–Ω
                <small>({{ segment.details.route_name }}: 
                    {% for stop in segment.details.stops %}{{ stop }}{% if not forloop.last %} ‚Üí {% endif %}{% endfor %})
                </small>
            {% else %}
                {{ segment.type }}: {{ segment.time }} –º–∏–Ω
            {% endif %}
        </li>
        {% endfor %}
    </ul>
</div>
{% endfor %}
{% endif %}